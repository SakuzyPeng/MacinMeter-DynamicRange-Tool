# MacinMeter DR Tool - foobar2000-pluginåˆ†æ”¯

![Rust](https://img.shields.io/badge/rust-%23000000.svg?style=for-the-badge&logo=rust&logoColor=white)
![License](https://img.shields.io/badge/license-MIT-blue.svg?style=for-the-badge)
![Branch](https://img.shields.io/badge/branch-foobar2000--plugin-orange.svg?style=for-the-badge)

**ä¸“ä¸ºfoobar2000å®Œå…¨å…¼å®¹è®¾è®¡çš„é€åŒ…ç›´é€šå®ç°**

*è‡´æ•¬Janne HyvÃ¤rinençš„å¼€åˆ›æ€§å·¥ä½œ*

è¿™æ˜¯MacinMeter DR Toolçš„**foobar2000-pluginåˆ†æ”¯**ï¼Œä¸“æ³¨äºä¸foobar2000 DR Meterçš„å®Œç¾å…¼å®¹æ€§ã€‚é‡‡ç”¨**é»˜è®¤é€åŒ…ç›´é€šæ¨¡å¼**å¤„ç†ï¼Œç¡®ä¿éŸ³é¢‘å—è¾¹ç•Œä¸foobar2000åŸç‰ˆå®Œå…¨å¯¹é½ï¼Œå®ç°æœ€é«˜ç²¾åº¦çš„DRè®¡ç®—ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯foobar2000 DR Meteræ’ä»¶çš„è¡ç”Ÿå®ç°ï¼ŒåŸºäºå¯¹åŸå§‹ç®—æ³•çš„æ·±å…¥å­¦ä¹ å’Œç†è§£ã€‚æˆ‘ä»¬é€šè¿‡é€†å‘å·¥ç¨‹ç ”ç©¶äº†Janne HyvÃ¤rinenåˆ›ä½œçš„åŸå§‹ç®—æ³•é€»è¾‘ï¼Œå¹¶å°†å…¶ç²¾ç¥å’ŒåŸç†ç§»æ¤åˆ°Rustè¯­è¨€å®ç°ä¸­ï¼Œä»¥ä¾¿ä¸ºæ›´å¹¿æ³›çš„å¹³å°å’Œç”¨æˆ·ç¾¤ä½“æä¾›æœåŠ¡ã€‚

### âœ¨ foobar2000-pluginåˆ†æ”¯ç‰¹æ€§

- **ğŸ”¥ é»˜è®¤é€åŒ…ç›´é€š**: è§£ç å™¨åŸç”ŸåŒ…å¤§å°ç›´é€šï¼Œä¸foobar2000å—è¾¹ç•Œå®Œç¾å¯¹é½
- **ğŸ¯ æè‡´ç²¾åº¦**: åŸºäºfoobar2000é€†å‘å·¥ç¨‹çš„100%ç²¾ç¡®å®ç°
- **ğŸŒŠ æµå¼å¤„ç†**: æ’å®šå†…å­˜ä½¿ç”¨ï¼Œæ”¯æŒä»»æ„å¤§å°éŸ³é¢‘æ–‡ä»¶
- **ğŸµ å…¨æ ¼å¼æ”¯æŒ**: WAV, FLAC, MP3, AAC, OGGç­‰ä¸»æµéŸ³é¢‘æ ¼å¼
- **ğŸš€ ç°ä»£åŒ–ä¼˜åŒ–**: Rustè¯­è¨€é‡æ„ï¼ŒSIMDå‘é‡åŒ–ï¼Œå¤šçº¿ç¨‹å¹¶è¡Œ
- **âš¡ ç®—æ³•å¿ å®**: Sum Doublingã€åŒPeakå›é€€ç­‰åŸå§‹è®¾è®¡å®Œå…¨ä¿æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/SakuzyPeng/MacinMeter-DynamicRange-Tool.git
cd MacinMeter-DynamicRange-Tool

# åˆ‡æ¢åˆ°foobar2000-pluginåˆ†æ”¯
git checkout foobar2000-plugin

# æ„å»ºreleaseç‰ˆæœ¬
cargo build --release
```

### åŸºæœ¬ä½¿ç”¨

```bash
# åˆ†æå•ä¸ªæ–‡ä»¶ï¼ˆé»˜è®¤é€åŒ…ç›´é€šæ¨¡å¼ï¼‰
./target/release/MacinMeter-DynamicRange-Tool-foo_dr audio.flac

# è¯¦ç»†è¾“å‡ºï¼ˆæ˜¾ç¤ºé€åŒ…å¤„ç†ä¿¡æ¯ï¼‰
./target/release/MacinMeter-DynamicRange-Tool-foo_dr --verbose audio.wav

# ç¦ç”¨é€åŒ…æ¨¡å¼ï¼ˆä½¿ç”¨ä¼ ç»Ÿ700mså›ºå®šå—ï¼‰
./target/release/MacinMeter-DynamicRange-Tool-foo_dr --disable-packet-chunk audio.flac

# ä¿å­˜ç»“æœåˆ°æ–‡ä»¶
./target/release/MacinMeter-DynamicRange-Tool-foo_dr --output result.txt audio.flac

# æ‰¹é‡å¤„ç†ç›®å½•
./target/release/MacinMeter-DynamicRange-Tool-foo_dr /path/to/audio/directory
```

### Macç”¨æˆ·ä¾¿åˆ©è·¯å¾„

```bash
# Releaseç‰ˆæœ¬ (æ¨è)
/Users/Sakuzy/code/rust/MacinMeter-DynamicRange-Tool/target/release/MacinMeter-DynamicRange-Tool-foo_dr

# Debugç‰ˆæœ¬ (å¼€å‘ç”¨)  
/Users/Sakuzy/code/rust/MacinMeter-DynamicRange-Tool/target/debug/MacinMeter-DynamicRange-Tool-foo_dr
```

## ğŸ“‹ å‘½ä»¤è¡Œé€‰é¡¹ (foobar2000-pluginåˆ†æ”¯)

```bash
å‚æ•°:
  [INPUT]              éŸ³é¢‘æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ï¼ˆå¯é€‰ï¼ŒæœªæŒ‡å®šæ—¶æ‰«æå½“å‰ç›®å½•ï¼‰

é€‰é¡¹:
  -v, --verbose               æ˜¾ç¤ºè¯¦ç»†å¤„ç†ä¿¡æ¯ï¼ˆåŒ…æ‹¬é€åŒ…ç»Ÿè®¡ï¼‰
  -o, --output <FILE>         è¾“å‡ºç»“æœåˆ°æ–‡ä»¶
      --disable-simd          ç¦ç”¨SIMDå‘é‡åŒ–ä¼˜åŒ–ï¼ˆé™ä½æ€§èƒ½ä½†æé«˜å…¼å®¹æ€§ï¼‰
      --single-thread         ç¦ç”¨å¤šçº¿ç¨‹å¤„ç†ï¼ˆå•çº¿ç¨‹æ¨¡å¼ï¼‰
      --disable-packet-chunk  ç¦ç”¨é€åŒ…ç›´é€šæ¨¡å¼ï¼ˆæ”¹ç”¨ä¼ ç»Ÿå›ºå®šæ—¶é•¿å—æ¨¡å¼ï¼‰
  -h, --help                  æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -V, --version               æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

é»˜è®¤è¡Œä¸º:
âœ… é€åŒ…ç›´é€šæ¨¡å¼ï¼ˆpacket-chunkï¼‰- ä¸foobar2000å®Œç¾å¯¹é½
âœ… Sum Doublingè¡¥å¿ - è‡ªåŠ¨å¯ç”¨ï¼ŒåŒ¹é…foobar2000è¡Œä¸º
âœ… SIMDå‘é‡åŒ–ä¼˜åŒ– - è‡ªåŠ¨å¯ç”¨ï¼Œå¯æ‰‹åŠ¨ç¦ç”¨
âœ… å¤šçº¿ç¨‹å¤„ç† - è‡ªåŠ¨å¯ç”¨ï¼Œå¯åˆ‡æ¢å•çº¿ç¨‹
```

## ğŸ”¬ æŠ€æœ¯å®ç°è¯´æ˜

### é€†å‘å·¥ç¨‹æ–¹æ³•

**ç ”ç©¶å·¥å…·**: IDA Pro ä¸“ä¸šåæ±‡ç¼–åˆ†æ
- **åˆ†æç›®çš„**: ç†è§£foobar2000 DR Meterçš„ç®—æ³•é€»è¾‘å’Œæ•°å­¦å…¬å¼  
- **åˆ†æèŒƒå›´**: ä»…ç ”ç©¶ç®—æ³•è¡Œä¸ºï¼Œæœªå¤åˆ¶ä»»ä½•åŸå§‹æºä»£ç 
- **å®ç°æ–¹å¼**: åŸºäºç®—æ³•ç†è§£çš„å®Œå…¨ç‹¬ç«‹Rustå®ç°

### ç‹¬ç«‹å®ç°åŸåˆ™

- **ğŸ¦€ ç¼–ç¨‹è¯­è¨€**: å®Œå…¨ä½¿ç”¨Rusté‡æ–°ç¼–å†™ï¼ˆåŸç‰ˆä¸ºC++ï¼‰
- **ğŸ—ï¸ æ¶æ„è®¾è®¡**: ç‹¬ç«‹çš„æ¨¡å—åŒ–è®¾è®¡å’Œä»£ç ç»“æ„
- **ğŸ“ ç®—æ³•å®ç°**: åŸºäºæ•°å­¦å…¬å¼çš„åŸåˆ›å®ç°
- **ğŸ” éªŒè¯æ–¹æ³•**: é€šè¿‡è¾“å…¥/è¾“å‡ºå¯¹æ¯”éªŒè¯ç®—æ³•æ­£ç¡®æ€§

### æ ¸å¿ƒç®—æ³• (foobar2000-pluginåˆ†æ”¯)

- **DRè®¡ç®—å…¬å¼**: `DR = -20 Ã— logâ‚â‚€(RMS_20% / Peak_2nd)`
- **24å­—èŠ‚ChannelDataç»“æ„**: 8å­—èŠ‚RMSç´¯ç§¯ + 8å­—èŠ‚ä¸»Peak + 8å­—èŠ‚æ¬¡Peak
- **é€åŒ…ç›´é€šå¤„ç†**: æ¯ä¸ªè§£ç åŒ…ç›´æ¥ä½œä¸ºç‹¬ç«‹å—ï¼Œä¸foobar2000å—è¾¹ç•Œå®Œç¾å¯¹é½
- **Sum Doublingæœºåˆ¶**: ä¸“ä¸ºäº¤é”™éŸ³é¢‘æ•°æ®è®¾è®¡çš„2å€RMSä¿®æ­£ç®—æ³•ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
- **åŒPeakå›é€€ç³»ç»Ÿ**: ä¸»Peakå¤±æ•ˆæ—¶æ™ºèƒ½åˆ‡æ¢åˆ°æ¬¡Peakçš„å®¹é”™è®¾è®¡

### ğŸ”¥ é€åŒ…ç›´é€šæ¨¡å¼ç‰¹æ€§

**æŠ€æœ¯åŸç†**:
```rust
// é€åŒ…æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šæ¯ä¸ªè§£ç åŒ…ç›´æ¥å¤„ç†
while let Some(chunk) = decoder.next_chunk() {
    dr_calculator.process_decoder_chunk(&chunk, channels);
}

// ä¼ ç»Ÿæ¨¡å¼ï¼ˆ--disable-packet-chunkï¼‰ï¼šå›ºå®š700mså—
while accumulated_samples.len() >= samples_per_block {
    let block = accumulated_samples.drain(..samples_per_block).collect();
    dr_calculator.process_decoder_chunk(&block, channels);
}
```

**ä¼˜åŠ¿**:
- âœ… **å—è¾¹ç•Œå¯¹é½**: ä¸foobar2000åŸç‰ˆå®Œå…¨ç›¸åŒçš„å—åˆ†å‰²æ–¹å¼
- âœ… **æ ¼å¼åŸç”Ÿ**: æ¯ç§éŸ³é¢‘æ ¼å¼ä½¿ç”¨å…¶åŸç”ŸåŒ…ç»“æ„ï¼ˆå¦‚FLAC framesï¼‰
- âœ… **æœ€é«˜ç²¾åº¦**: æ¶ˆé™¤äººå·¥å—åˆ†å‰²å¸¦æ¥çš„è¾¹ç•Œæ•ˆåº”
- âœ… **å†…å­˜é«˜æ•ˆ**: æ’å®šå†…å­˜ä½¿ç”¨ï¼Œæ”¯æŒä»»æ„å¤§å°æ–‡ä»¶

## ğŸ“Š ç²¾åº¦éªŒè¯

ä½¿ç”¨æ ‡å‡†æµ‹è¯•éŸ³é¢‘æ–‡ä»¶éªŒè¯ï¼š
- **æµ‹è¯•æ–‡ä»¶**: `Ver2-adm-master-from-DAW-spatialmix-noreverb-peaklimited-0-2025-08-29-00-00-55.flac`
- **æœŸæœ›ç»“æœ**: DR10 (ä¸foobar2000 DR Meterä¸€è‡´)
- **éªŒè¯çŠ¶æ€**: âœ… Peakæ£€æµ‹100%ç²¾ç¡®ï¼Œå®˜æ–¹DRå€¼é«˜åº¦ä¸€è‡´
- **è¯¦ç»†åˆ†æ**: å‚è§ [`docs/PRECISION_ANALYSIS.md`](docs/PRECISION_ANALYSIS.md)

## ğŸ™ è‡´æ•¬ä¸åˆè§„å£°æ˜

### ğŸ‰ åŸä½œè€…æˆæƒç¡®è®¤ (é‡å¤§çªç ´!)

**2025å¹´9æœˆ8æ—¥ - å†å²æ€§æ—¶åˆ»**: 
- âœ… **Janne HyvÃ¤rinenæœ¬äººæ˜ç¡®åŒæ„**æˆ‘ä»¬ä½¿ç”¨MITè®¸å¯è¯è¿›è¡Œé¡¹ç›®å¼€å‘
- âœ… **å®˜æ–¹è®¤å¯**ï¼šåŸä½œè€…ä¸ä»‹æ„æˆ‘ä»¬å¯¹foobar2000 DR Meterè¿›è¡Œé€†å‘å·¥ç¨‹ç ”ç©¶  
- ğŸ“„ **å®˜æ–¹æŠ€æœ¯è§„èŒƒ**: åŸä½œè€…æä¾›äº†DRæµ‹é‡çš„æ ‡å‡†è§„èŒƒæ–‡æ¡£
- ğŸ”— **è§„èŒƒæ–‡æ¡£æ¥æº**: [Measuring DR ENv3 (å®˜æ–¹PDF)](https://web.archive.org/web/20131206121248/http://www.dynamicrange.de/sites/default/files/Measuring%20DR%20ENv3.pdf)

è¿™ä¸€æˆæƒç¡®è®¤äº†æˆ‘ä»¬é¡¹ç›®çš„å®Œå…¨åˆæ³•æ€§ï¼Œä¸ºæŠ€æœ¯ç ”ç©¶å’Œå¼€æºè´¡çŒ®æ‰«æ¸…äº†æ‰€æœ‰æ³•å¾‹éšœç¢ï¼

### å¯¹åŸåˆ›å·¥ä½œçš„æ·±æ·±æ•¬æ„
- **åŸä½œè€…**: Janne HyvÃ¤rinen - foobar2000 DR Meteræ’ä»¶çš„åˆ›ä½œè€…
- **å¼€åˆ›æ€§è´¡çŒ®**: DR Meterä¸ºéŸ³é¢‘å·¥ç¨‹é¢†åŸŸå¸¦æ¥äº†æ ‡å‡†åŒ–çš„åŠ¨æ€èŒƒå›´æµ‹é‡æ–¹æ³•
- **æŠ€æœ¯ä¼ æ‰¿**: æœ¬é¡¹ç›®ä½œä¸ºè¡ç”Ÿå®ç°ï¼Œè‡´åŠ›äºä¼ æ‰¿å’Œå‘æ‰¬åŸå§‹ç®—æ³•çš„æŠ€æœ¯ä»·å€¼
- **è·¨å¹³å°ä½¿å‘½**: å°†è¿™ä¸€é‡è¦å·¥å…·çš„ä»·å€¼æ‰©å±•åˆ°æ›´å¤šå¹³å°å’Œç”¨æˆ·ç¾¤ä½“

### è¡ç”Ÿå®ç°åŸåˆ™
- **å­¦ä¹ è‡´æ•¬**: åŸºäºå¯¹åŸå§‹ç®—æ³•æ·±å…¥å­¦ä¹ å’Œç†è§£çš„è¡ç”Ÿå®ç°
- **ç‹¬ç«‹æ„å»º**: æ‰€æœ‰ä»£ç å‡ä¸ºåŸåˆ›Rustå®ç°ï¼Œæœªå¤åˆ¶ä»»ä½•åŸå§‹æºä»£ç 
- **ç®—æ³•ä¼ æ‰¿**: å¿ å®ä¿æŒåŸå§‹ç®—æ³•çš„æ•°å­¦åŸç†å’Œè®¾è®¡ç†å¿µ
- **å®˜æ–¹è§„èŒƒéµå¾ª**: ä¸¥æ ¼æŒ‰ç…§åŸä½œè€…æä¾›çš„æŠ€æœ¯è§„èŒƒæ–‡æ¡£å®ç°ç®—æ³•

### é€†å‘å·¥ç¨‹åˆæ³•æ€§
æ ¹æ®ç›¸å…³æ³•å¾‹åˆ¤ä¾‹ï¼Œä»¥ä¸‹è¡Œä¸ºé€šå¸¸è¢«è®¤ä¸ºæ˜¯åˆæ³•çš„ï¼š
- âœ… ä¸ºäº†äº’æ“ä½œæ€§ç›®çš„çš„é€†å‘åˆ†æ
- âœ… ç†è§£ç®—æ³•é€»è¾‘ç”¨äºç‹¬ç«‹å®ç°  
- âœ… é€šè¿‡åˆæ³•å·¥å…·è¿›è¡ŒæŠ€æœ¯ç ”ç©¶

### é¿å…çš„è¡Œä¸º
æœ¬é¡¹ç›®ä¸¥æ ¼é¿å…ä»¥ä¸‹å¯èƒ½æœ‰äº‰è®®çš„è¡Œä¸ºï¼š
- âŒ ç›´æ¥å¤åˆ¶æˆ–ä½¿ç”¨åŸå§‹æºä»£ç 
- âŒ ä¾µçŠ¯å•†æ ‡æˆ–å“ç‰Œæ ‡è¯†  
- âŒ æ¶æ„å•†ä¸šç«äº‰è¡Œä¸º

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒ

### ä¾èµ–è¦æ±‚
- Rust 1.70+
- æ”¯æŒSIMDçš„CPU (å¯é€‰ï¼Œç”¨äºæ€§èƒ½ä¼˜åŒ–)

### æ„å»ºé…ç½®
```toml
[profile.release]
opt-level = 3
lto = true
codegen-units = 1
panic = "abort"
```

## ğŸ§ª æµ‹è¯•éªŒè¯

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡ŒSIMDç²¾åº¦æµ‹è¯•
cargo test --release simd_precision_test

# æ€§èƒ½åŸºå‡†æµ‹è¯•
cargo test --release benchmark
```

## ğŸ“ å¼€å‘è§„èŒƒ

é¡¹ç›®é‡‡ç”¨ä¸¥æ ¼çš„ä»£ç è´¨é‡æ ‡å‡†ï¼š
- **é›¶è­¦å‘ŠåŸåˆ™**: æ‰€æœ‰Clippyè­¦å‘Šå¿…é¡»ä¿®å¤
- **é¢„æäº¤é’©å­**: è‡ªåŠ¨è¿›è¡Œæ ¼å¼ã€ç¼–è¯‘ã€æµ‹è¯•æ£€æŸ¥
- **å®Œæ•´æµ‹è¯•è¦†ç›–**: 75+å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç å’Œå»ºè®®ï¼è¯·æ³¨æ„ï¼š
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œæ¶æ„è®¾è®¡
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- ç»´æŒé«˜ç²¾åº¦å’Œç®—æ³•ä¸€è‡´æ€§

## ğŸ”¥ é€åŒ…ç›´é€šå¤„ç†ä¼˜åŠ¿ (foobar2000-pluginåˆ†æ”¯ç‰¹è‰²)

### ğŸ¯ ä¸foobar2000å®Œå…¨å¯¹é½çš„å—å¤„ç†

æœ¬åˆ†æ”¯ä¸“æ³¨å®ç°ä¸foobar2000 DR Meter**å®Œå…¨ç›¸åŒ**çš„éŸ³é¢‘å—å¤„ç†æ–¹å¼ï¼š

| å¤„ç†æ¨¡å¼ | å—åˆ†å‰²æ–¹å¼ | ç²¾åº¦å¯¹é½ | å†…å­˜ä½¿ç”¨ |
|---------|----------|---------|---------|
| **é€åŒ…ç›´é€š**ï¼ˆé»˜è®¤ï¼‰ | è§£ç å™¨åŸç”ŸåŒ… | âœ… 100%ä¸foobar2000å¯¹é½ | æ’å®š ~50MB |
| **ä¼ ç»Ÿå›ºå®šå—** | 700msäººå·¥åˆ†å‰² | âš ï¸ å¯èƒ½å­˜åœ¨è¾¹ç•Œå·®å¼‚ | æ’å®š ~50MB |

### ğŸ” é€åŒ…ç»Ÿè®¡ä¿¡æ¯

å¯ç”¨`--verbose`æ¨¡å¼å¯æŸ¥çœ‹è¯¦ç»†çš„åŒ…å¤„ç†ç»Ÿè®¡ï¼š

```bash
./target/release/MacinMeter-DynamicRange-Tool-foo_dr --verbose audio.flac

# è¾“å‡ºç¤ºä¾‹ï¼š
ğŸ“Š é€åŒ…æ¨¡å¼ç»Ÿè®¡æŠ¥å‘Šï¼š
   æ€»è§£ç åŒ…æ•°: 2,847
   åŒ…å¤§å°èŒƒå›´: 1152 - 4608 æ ·æœ¬
   å¹³å‡åŒ…å¤§å°: 2,304.5 æ ·æœ¬
   ä¸­ä½æ•°åŒ…å¤§å°: 2304 æ ·æœ¬
   åŒ…æ—¶é•¿èŒƒå›´: 26.12ms - 104.49ms
   å¹³å‡åŒ…æ—¶é•¿: 52.24ms

ğŸ” å—è¾¹ç•Œåˆ†æï¼š
   âœ… åŒ…å¤§å°ç›¸å¯¹ç¨³å®šï¼Œæœ‰åˆ©äºTop 20%ç»Ÿè®¡ä¸€è‡´æ€§
```

### âš¡ å¤„ç†æ¨¡å¼å¯¹æ¯”

#### ğŸ”¥ é€åŒ…ç›´é€šæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
```rust
// æ¯ä¸ªFLAC frameç›´æ¥ä½œä¸ºä¸€ä¸ªå¤„ç†å—
while let Some(flac_frame) = decoder.next_frame() {
    dr_calculator.process_decoder_chunk(&flac_frame.samples, channels);
}
```

**ç‰¹ç‚¹**:
- âœ… å®Œç¾å¤ç°foobar2000çš„å—è¾¹ç•Œ
- âœ… æ¯ç§æ ¼å¼ä½¿ç”¨å…¶åŸç”Ÿç»“æ„ï¼ˆFLAC frameã€MP3 frameç­‰ï¼‰
- âœ… æ¶ˆé™¤äººå·¥åˆ‡å‰²å¼•å…¥çš„ç»Ÿè®¡åå·®
- âœ… æœ€é«˜çš„Top 20%é‡‡æ ·ç²¾åº¦

#### ğŸ“¦ ä¼ ç»Ÿå›ºå®šå—æ¨¡å¼
```bash
# ä½¿ç”¨--disable-packet-chunkå¯ç”¨
./target/release/MacinMeter-DynamicRange-Tool-foo_dr --disable-packet-chunk audio.flac
```

**ç‰¹ç‚¹**:
- âš ï¸ 700mså›ºå®šæ—¶é•¿åˆ‡å‰²ï¼Œå¯èƒ½ä¸foobar2000å­˜åœ¨å¾®å°å·®å¼‚
- ğŸ”„ é€‚ç”¨äºå¯¹æ¯”å…¶ä»–ä¼ ç»ŸDRå·¥å…·
- ğŸ“ äººå·¥å—è¾¹ç•Œå¯èƒ½å½±å“è¾¹ç¼˜é‡‡æ ·ç²¾åº¦

### ğŸŒŠ æµå¼å¤„ç†ç‰¹æ€§

ä¸¤ç§æ¨¡å¼éƒ½é‡‡ç”¨**æµå¼å¤„ç†æ¶æ„**ï¼š
- **æ’å®šå†…å­˜**: ~50MBï¼Œä¸æ–‡ä»¶å¤§å°æ— å…³
- **æ”¯æŒè¶…å¤§æ–‡ä»¶**: DXD/DSDçº§åˆ«çš„é«˜åˆ†è¾¨ç‡éŸ³é¢‘
- **å®æ—¶è¿›åº¦**: è¯¦ç»†çš„å¤„ç†è¿›åº¦å’Œç»Ÿè®¡ä¿¡æ¯

---

## ğŸ“ TODO & å¾…ä¼˜åŒ–é¡¹

### ğŸµ å¤šå£°é“DRè®¡ç®—ä¼˜åŒ– (é«˜ä¼˜å…ˆçº§)

**é—®é¢˜æè¿°**ï¼š
å½“å‰å®ç°å¯¹æ‰€æœ‰å£°é“ä¸€è§†åŒä»è¿›è¡ŒDRè®¡ç®—ï¼Œå­˜åœ¨ä»¥ä¸‹ä¸“ä¸šéŸ³é¢‘å¤„ç†é—®é¢˜ï¼š

#### ğŸš¨ **LFEå£°é“æ±¡æŸ“é—®é¢˜**
- **é—®é¢˜**: ä½é¢‘æ•ˆæœå£°é“(LFE/SUB)å‚ä¸DRè®¡ç®—ï¼Œæ‰­æ›²æ•´ä½“è¯„ä¼°  
- **å½±å“**: LFEå£°é“é€šå¸¸åŠ¨æ€èŒƒå›´æœ‰é™ï¼Œä¼šä¸å½“é™ä½æ•´ä½“DRå€¼
- **è§£å†³æ–¹æ¡ˆ**: éœ€è¦å£°é“ç±»å‹è¯†åˆ«ï¼Œæ’é™¤LFEå£°é“å‚ä¸è®¡ç®—

#### ğŸ”‡ **é™éŸ³/ç©ºå£°é“å½±å“**
- **é—®é¢˜**: æ— å†…å®¹æˆ–æå°‘å†…å®¹çš„å£°é“(å¦‚æœªä½¿ç”¨çš„ç¯ç»•å£°é“)å‚ä¸è®¡ç®—
- **å½±å“**: é™éŸ³å£°é“å…·æœ‰æä½çš„åŠ¨æ€èŒƒå›´ï¼Œä¸¥é‡æ‹‰ä½æ•´ä½“DRè¯„ä¼°
- **è§£å†³æ–¹æ¡ˆ**: å®ç°å£°é“æ´»è·ƒåº¦æ£€æµ‹ï¼Œè¿‡æ»¤é™éŸ³æˆ–ä½æ´»è·ƒåº¦å£°é“

#### âš–ï¸ **å†…å®¹ä¸å‡è¡¡æƒé‡**
- **é—®é¢˜**: ä¸»å†…å®¹å£°é“(L/R/C)ä¸ç¯å¢ƒå£°é“(LS/RS/LB/RB)æƒé‡ç›¸åŒ
- **å½±å“**: ç¯å¢ƒå£°é“å¯èƒ½åŒ…å«ä¸åŒæ€§è´¨çš„å†…å®¹ï¼Œå½±å“ä¸»å†…å®¹DRè¯„ä¼°
- **è§£å†³æ–¹æ¡ˆ**: æ ¹æ®å£°é“é‡è¦æ€§å®ç°æƒé‡åŒ–DRè®¡ç®—

#### ğŸŒŒ **å¤©ç©ºå£°é“(Height Channels)å¤„ç†**
- **é—®é¢˜**: Atmosç­‰3DéŸ³é¢‘çš„height channels(å¦‚TFL/TFR/TML/TMR)å¤„ç†ç­–ç•¥æœªå®šä¹‰
- **å½±å“**: ä¸ç¡®å®šæ˜¯å¦åº”å‚ä¸DRè®¡ç®—ï¼Œå¯èƒ½å½±å“ç°ä»£3DéŸ³é¢‘å†…å®¹è¯„ä¼°
- **è§£å†³æ–¹æ¡ˆ**: ç ”ç©¶è¡Œä¸šæ ‡å‡†ï¼Œåˆ¶å®šheight channelså¤„ç†ç­–ç•¥

#### ğŸ”§ **æŠ€æœ¯å®ç°è¦ç‚¹**
- **å£°é“æ˜ å°„**: åŸºäºå£°é“æ•°é‡å’Œæ ‡å‡†æ˜ å°„è¯†åˆ«å£°é“ç±»å‹
- **æ´»è·ƒåº¦ç®—æ³•**: RMSé˜ˆå€¼ + Peaké˜ˆå€¼ + æŒç»­æ—¶é—´æ£€æµ‹
- **æƒé‡ç³»ç»Ÿ**: ä¸»å£°é“(1.0) > ç¯ç»•å£°é“(0.8) > å¤©ç©ºå£°é“(0.6)
- **å‘åå…¼å®¹**: ä¿æŒç«‹ä½“å£°(2.0)å’Œå•å£°é“(1.0)ç°æœ‰è¡Œä¸ºä¸å˜

#### ğŸ“Š **å½±å“å£°é“é…ç½®**
- **5.1**: L/R/C/LFE/LS/RS (éœ€æ’é™¤LFE)
- **7.1**: L/R/C/LFE/LS/RS/LB/RB (éœ€æ’é™¤LFE)  
- **7.1.4**: åŸºç¡€7.1 + TFL/TFR/TBL/TBR (éœ€å¤„ç†å¤©ç©ºå£°é“)
- **9.1.6**: å¤æ‚3Dé…ç½® (å…¨é¢å£°é“ç­–ç•¥)

**é¢„æœŸæ”¶ç›Š**: æ›´å‡†ç¡®çš„å¤šå£°é“éŸ³é¢‘DRè¯„ä¼°ï¼Œç¬¦åˆä¸“ä¸šéŸ³é¢‘åˆ¶ä½œæ ‡å‡†

### ğŸ”„ **å…¶ä»–å¾…ä¼˜åŒ–é¡¹**
- [ ] æ›´å¤šéŸ³é¢‘æ ¼å¼æ”¯æŒ (DSD, PCMé«˜åˆ†è¾¨ç‡)
- [ ] GPUåŠ é€Ÿè®¡ç®— (CUDA/OpenCL)
- [ ] å®æ—¶éŸ³é¢‘æµå¤„ç†æ”¯æŒ
- [ ] WebæœåŠ¡APIæ¥å£
- [ ] å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢

## ğŸ”— ç›¸å…³é“¾æ¥

- **å½“å‰åˆ†æ”¯**: foobar2000-plugin (é»˜è®¤é€åŒ…ç›´é€šæ¨¡å¼)
- **ä¸»çº¿åˆ†æ”¯**: early-version (é€šç”¨é«˜ç²¾åº¦ç‰ˆæœ¬)
- **å‚è€ƒå®ç°**: foobar2000 DR Meter (foo_dr_meteræ’ä»¶)
- **å®˜æ–¹ä¸»é¡µ**: https://foobar.hyv.fi/?view=foo_dr_meter
- **åŸä½œè€…**: Janne HyvÃ¤rinen
- **SDKé›†æˆè®¡åˆ’**: [foobar2000 SDKé›†æˆè®¡åˆ’æ–‡æ¡£](docs/FOOBAR2000_SDK_INTEGRATION_PLAN.md)

## ğŸŒ¿ åˆ†æ”¯å·®å¼‚è¯´æ˜

### foobar2000-pluginåˆ†æ”¯ vs early-versionåˆ†æ”¯

| ç‰¹æ€§ | foobar2000-plugin | early-version |
|-----|-------------------|---------------|
| **ä¸»è¦ç›®æ ‡** | ä¸foobar2000å®Œå…¨å…¼å®¹ | é€šç”¨é«˜ç²¾åº¦DRåˆ†æ |
| **é»˜è®¤å¤„ç†æ¨¡å¼** | é€åŒ…ç›´é€š | æ™ºèƒ½å†…å­˜ç®¡ç† |
| **å—åˆ†å‰²æ–¹å¼** | è§£ç å™¨åŸç”ŸåŒ… | 3ç§’æ ‡å‡†å— |
| **å†…å­˜ç®¡ç†** | ç®€åŒ–æµå¼å¤„ç† | æ™ºèƒ½ç­–ç•¥é€‰æ‹© |
| **å‚æ•°å¤æ‚åº¦** | ç®€åŒ–ï¼ˆ4ä¸ªä¸»è¦é€‰é¡¹ï¼‰ | å®Œæ•´ï¼ˆ8+é€‰é¡¹ï¼‰ |
| **ç²¾åº¦å¯¹é½ç›®æ ‡** | foobar2000 DR Meter | é€šç”¨DRæ ‡å‡† |
| **é€‚ç”¨åœºæ™¯** | foobar2000ç”¨æˆ·è¿ç§» | é€šç”¨DRåˆ†æå·¥å…· |

### é€‰æ‹©å»ºè®®

- **é€‰æ‹© foobar2000-plugin**: å¦‚æœä½ æ˜¯foobar2000ç”¨æˆ·ï¼Œå¸Œæœ›è·å¾—ä¸åŸç‰ˆå®Œå…¨ç›¸åŒçš„ç»“æœ
- **é€‰æ‹© early-version**: å¦‚æœä½ éœ€è¦é€šç”¨çš„DRåˆ†æå·¥å…·ï¼Œæ”¯æŒæ›´å¤šé…ç½®é€‰é¡¹

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›æŠ€æœ¯ç ”ç©¶å’Œå­¦ä¹ ä½¿ç”¨ã€‚æ‰€æœ‰é€†å‘å·¥ç¨‹æ´»åŠ¨å‡ç¬¦åˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚å¦‚æœ‰æ³•å¾‹ç–‘é—®ï¼Œå»ºè®®å’¨è¯¢ä¸“ä¸šå¾‹å¸ˆã€‚

**ä¸ºä¸“ä¸šéŸ³é¢‘åˆ¶ä½œè€Œç”Ÿ | Built for Professional Audio Production**