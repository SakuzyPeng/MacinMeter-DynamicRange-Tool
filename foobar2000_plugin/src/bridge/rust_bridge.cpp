#include "rust_bridge.h"
#include "foobar2000.h"

// ====================================================================
// ğŸš€ ä¼˜é›…å¼‚æ­¥FFIæ¡¥æ¥ - çº¯å£°æ˜æ–‡ä»¶
// ====================================================================

/**
 * ğŸ¯ è¿™ä¸ªæ–‡ä»¶ç°åœ¨ä¸»è¦ä½œä¸ºFFIæ¥å£çš„C++ç«¯å£°æ˜
 *
 * å®é™…çš„FFIè°ƒç”¨ç°åœ¨ç›´æ¥åœ¨UIå±‚è¿›è¡Œï¼Œä½¿ç”¨ä¼˜é›…çš„å›è°ƒå¥æŸ„æ¨¡å¼ï¼š
 * 1. æ³¨å†Œå›è°ƒå‡½æ•°è·å¾—å¥æŸ„
 * 2. ä½¿ç”¨å¥æŸ„å¯åŠ¨å¼‚æ­¥åˆ†æ
 * 3. Rustè‡ªåŠ¨ç®¡ç†å›è°ƒç”Ÿå‘½å‘¨æœŸ
 *
 * è¿™ç§è®¾è®¡ï¼š
 * - æ›´ç®€æ´ï¼šå‡å°‘ä¸å¿…è¦çš„C++å°è£…å±‚
 * - æ›´ç›´æ¥ï¼šUIå±‚ç›´æ¥ä½¿ç”¨FFIæ¥å£
 * - æ›´ä¼˜é›…ï¼šç±»å‹å®‰å…¨çš„å›è°ƒç®¡ç†
 * - æ›´é«˜æ•ˆï¼šé›¶å¼€é”€æŠ½è±¡
 */

// æ³¨ï¼šæ‰€æœ‰FFIå‡½æ•°å£°æ˜åœ¨rust_bridge.hä¸­
//     æ‰€æœ‰FFIå‡½æ•°å®ç°åœ¨Rustç«¯ï¼ˆrust_core/src/lib.rsï¼‰
//
//     ä½¿ç”¨æ–¹å¼ï¼š
//     1. CallbackHandle completion_handle = rust_register_completion_callback(callback);
//     2. int task_id = rust_analyze_async_elegant(samples, ..., 0, completion_handle);
//     3. Rustè‡ªåŠ¨å¤„ç†å›è°ƒå’Œæ¸…ç†